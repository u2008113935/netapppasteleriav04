<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="apppasteleriav04.Views.Billing.BoletaPage"
             Title="Generar Comprobante">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <!-- Selector tipo de comprobante -->
            <Label Text="Tipo de Comprobante" FontSize="16" FontAttributes="Bold" />
            <Picker x:Name="InvoiceTypePicker"
                    SelectedItem="{Binding InvoiceType}"
                    Title="Seleccione tipo de comprobante">
                <Picker.ItemsSource>
                    <x:Array Type="{x:Type x:String}">
                        <x:String>boleta</x:String>
                        <x:String>factura</x:String>
                    </x:Array>
                </Picker.ItemsSource>
            </Picker>

            <!-- Campos para factura (solo si es factura) -->
            <VerticalStackLayout IsVisible="{Binding IsFactura}" Spacing="15">
                <Label Text="Datos para Factura" FontSize="16" FontAttributes="Bold" />
                
                <Entry Placeholder="RUC (11 dígitos)" 
                       Text="{Binding CustomerRuc}"
                       Keyboard="Numeric"
                       MaxLength="11" />
                
                <Entry Placeholder="Razón Social" 
                       Text="{Binding CustomerName}"
                       Keyboard="Text" />
            </VerticalStackLayout>

            <!-- Indicador de generación -->
            <ActivityIndicator IsRunning="{Binding IsGenerating}" 
                             IsVisible="{Binding IsGenerating}"
                             Color="#FF6B9D"
                             HorizontalOptions="Center" />

            <!-- Mensaje de error -->
            <Label Text="{Binding ErrorMessage}" 
                   TextColor="Red"
                   IsVisible="{Binding HasError}"
                   HorizontalTextAlignment="Center" />

            <!-- Botón generar comprobante -->
            <Button Text="Generar Comprobante" 
                    Command="{Binding GenerateInvoiceCommand}"
                    BackgroundColor="#FF6B9D"
                    TextColor="White"
                    CornerRadius="25"
                    HeightRequest="50" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>